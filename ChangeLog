**** Don't forget to update the version in version.cl ****
**** (please leave this header at the top of the file) ****

2007-12-10  Ahmon Dancy  <dancy@dancy>
v1.11	
	* subs.cl/lincfilter.cl: Added additional debugging and logging
	support.  

	* subs.cl: Added (declare (ignorable #'from-one-of #'to-one-if
			   #'to-one-of-domain #'add-header))
	           to the classify-message function within the 
	           defclassification macro.

2007-11-30  Kevin Layer  <layer@gemini.franz.com>
v1.10

	* load.cl: add version.cl to file list
	* incfilter.cl: message number to log file

2007-11-30  Kevin Layer  <layer@gemini.franz.com>
v1.9

	* subs.cl: split msginfo `tos' into `to' and `cc' and given
	  to-one-of an optional argument that is the `recips' to
	  search.  This allows for discrimination on whether a
	  particular address is in the To: or Cc:.

2007-11-12  Ahmon Dancy  <dancy@dancy>
v1.8
	
	* incfilter.cl: Added -v command line argument for verbosity
	during processing.

	* incfilter.cl/spool.cl: Always operate on mbox files using
	latin1 external format.

2007-08-15  Ahmon Dancy  <dancy@dancy>
v1.7
        * folderfilter/incfilter/mailstatus: Remove :compile (not debug)
	from calls to load-user-config.  For performance, we want the
	compiled config file to be used even when in debug mode.
	
2007-08-09  Ahmon Dancy  <dancy@dancy>
v1.6
        Overall: Significant speed improvements by fixing places where
	regular expressions were not being precompiled or where they were
	being recompiled on a per-message basis.

	* load.cl: Require :regexp2 early to make sure that the match-re
	compiler macro is ready.

	* subs.cl: Added Id line.  Added (load-time-value (compile-re
	...)) where needed.  Changed the 'match' macro into a function.
	The function now uses a hash table to cache already-compiled
	regexps.  Got rid of =~word function.  It has been superseded by
	functionality available in regexp2.  Updated the report id regexp
	in collect-bh-id.  dispatched-to-p: replaced =~ calls with
	match-re calls. 
	
        * folderfilter.cl: Added Id line to top of file.  Replaced a =~
	with match-re.

	* emailaddr.cl/lex.cl: Added (declare (optimize (speed 3))) to a
	couple of functions to inline a "qcdr" call.
	
2007-07-11  Kevin Layer  <layer@gemini.franz.com>
v1.5

	* Makefile: use 8.1 instead of 8.1.beta
	* subs.cl (collect-bh-id): better heuristic for determining
	  bh-id

	* README: update
	* mailstatus.cl: handle changed configuration
	* subs.cl: handle changed configuration

2007-05-03  Kevin Layer  <layer@relay.known.net>
v1.4

	* folderfilter.cl: load-user-config: :nocompile -> :compile
	* incfilter.cl: load-user-config: :nocompile -> :compile
	* mailstatus.cl: load-user-config: :nocompile -> :compile
	* subs.cl: load-user-config: change nocompile to compile and
          fix recompile on incompatible fasl

2007-05-02  Kevin Layer  <layer@gemini.franz.com>
v1.3

	* mailstatus.cl: add -file argument

2007-05-02  Kevin Layer  <layer@gemini.franz.com>
v1.2

	* Makefile: use 8.1.beta; default is `clean' and `all'
	* subs.cl: make `actions' available to filters; add debugging
          (#+ignore'd for now); make sure message-is-my-spr-p takes
          into account sprs w/actions

2007-01-16  Kevin Layer  <layer@gemini.franz.com>
v1.1
	* subs.cl: new dispatched-to; dispatched-to-p is gone and
          implemented in terms of dispatched-to
	* folderfilter.cl: load config after processing command line;
          add -c for specifying config file
	* incfilter.cl: load config after processing command line;
          add -c for specifying config file
	* mailstatus.cl: add -c for specifying config file

2006-12-29  Ahmon Dancy  <dancy@dancy>

	* ChangeLog: Added support for building on 64-bit platform.

2006-09-25  Ahmon Dancy  <dancy@dancy>
v1.0

	* Added version.cl
	* Makefile: Added RPM support.
	* mailfilter.spec: New

2005-12-25  Kevin Layer  <layer@relay.known.net>

	* mailstatus.cl: print something other than " " when there is
	  nothing to report... so we know mailstatus didn't crash.

2005-12-21  Kevin Layer  <layer@relay.known.net>

	* mailstatus.cl: make sure there is some output if there is no
	  mail and no inboxes... this ensures that the previous status
	  line will be cleared.

2005-12-19  Kevin Layer  <layer@relay.known.net>

	* Makefile: use mlisp at home and /fi/cl/8.0/bin/mlisp at work
	* subs.cl: handle the incompatible fasl file error once and for
	  all!

2005-06-10  Kevin Layer  <layer@gemini>

	* incfilter.cl: fix broken format string (in the debug case only)

2005-06-10  Ahmon Dancy  <dancy@dancy>

	* sub.cl: Added with-timeout around dispatched-to-p and
	bh-appended-p so that they signal an error if the transaction
	takes more than *http-timeout* (default 15) seconds.
	* incfilter.cl: Catch all unhandled errors and report them as
	"inc: <error message>".  The mh-e stuff expects error messages to
	be prefixed with "inc:".


2004-12-17  Kevin Layer  <layer@gemini>

	* subs.cl:
	- remove last few match-regexp's in favor of match-re
	- clean msgid before sending it in http query

2004-11-30  Kevin Layer  <layer@gemini>

	* Makefile: add cvs id
	* folderfilter.cl: use new regexp
	* incfilter.cl: -d to give backtrace if an error occurs
	* load.cl: load :shell and :regexp2 modules
	* mailstatus.cl: backtrace on error (if -d); use new regexp
	* subs.cl: use new regexp

2004-09-28  Kevin Layer  <layer@gemini>

	* Makefile: `install': save current version to ``.old''
	* subs.cl:
	- minor cleanup to defclassification (use macrolet for
	  subject-match and class-match)
	- add case-fold keyword to `match'
	- ignore case in address-matches-p

2004-06-12  Ahmon Dancy  <dancy@dancy>

	* subs.cl:  Added bh-appended-p function for handler's use.

2004-05-28  Ahmon Dancy  <dancy@dancy>
	* incfilter.cl: Don't write to *logfilename* when in debug mode.
	
2003-10-01  Ahmon Dancy  <dancy@dancy>

	* subs.cl: dispatched-to-p: uriencode reportid and user strings
	before passing them to do-http-request.

	* subs.cl: collect-bh-id:  Do the same regular expression matching
	on bh-id and subject headers (with preference given to the bh-id
	header).  Before any data in the Bh-id header was accepted.  Now
	only spr, bug, and rfe types are matched.

	* incfilter.cl/sub.slc:  Make *logfilename* really work like a
	configurable parameter.

2003-09-30  Ahmon Dancy  <dancy@dancy>

	* incfilter.cl:  Writes to $HOME/incfilter.log for auditing.

2003-07-21  Ahmon Dancy  <dancy@dancy>

	* Updated install rule in makefile

	* subs.cl: Unfold header before extracting email address list.

2003-07-08  Ahmon Dancy  <dancy@dancy>

	* incfilter.cl:  Fixed undesired spool truncation in debug mode.

2003-06-24  Ahmon Dancy  <dancy@dancy>

	* subs.cl:  Added just-body keyword arg to copy-message-to-stream
	to skip the headers.

2003-06-20  Ahmon Dancy  <dancy@dancy>

	* mailstatus.cl: reset 'new' counts for other inboxes if spool is
	empty.

2003-06-19  Kevin Layer  <layer@crikey>

	* Makefile: use /fi/cl/6.2/bin/redhat6/mlisp as the default

2003-06-19  Ahmon Dancy  <dancy@dancy>

	* incfilter.cl:  truncate spool file even if there are no messages
	inc'd into +inbox.

        * subs.cl:  Process all To: and Cc: headers found when computing
	the recipients list.

2003-06-16  Ahmon Dancy  <dancy@dancy>

	* Makefile:  Added 'install' rule.

	* incfilter.cl:  Pass unrecognized args over to inc.

	* mailstatus.cl:  Failed to reset other-inbox counters when spool
	changed.  Fixed.
	

